<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body> <!-- 버튼으로 이벤트를 끄고 키는  -->
    
    <h1> 클릭횟수 : 0 </h1>
    <button id="connect"> 이벤트 연결 </button>
    <button id="disconnect"> 이벤트 제거 </button>
    <p> 이벤트 연결 상태 : 해제 </p>

    <script> 
        let counter = 0
        let isConnect = false // 이벤트 작동 여부
        const h1 = document.querySelector ('h1')
        const p = document.querySelector('p')
        const conButton = document.querySelector('#connect')
        const disconButton = document.querySelector('#disconnect')


        const listener = function(){
            counter++
            h1.textContent = `클릭횟수 : ${counter}`
        }
        
        
        conButton.addEventListener('click',function(){
            if(isConnect === false){ //이벤트가 연결 안 된 상태인경우
                h1.addEventListener('click',listener)
                p.textContent = `이벤트 연결상태 : 연결`
                isConnect = true
            } 
        })

        disconButton.addEventListener('click',function(){
            if(isConnect === true){
                h1.removeEventListener('click',listener)
                p.textContent = `이벤트 연결상태 : 해제`
                isConnect = false
            }
        })

        console.log(isConnect);

    </script>
</body>
</html>