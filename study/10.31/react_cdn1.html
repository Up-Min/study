
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            border: 0;
        }

        #root p {
            color: white;
            font-size: 20px;
            background-color: green;
            text-align: center;
            width: 200px;
        }

        #btn_plus {
            background-color: red;
            border: 2px solid #000;
            font-size: 15px;
            width: 200px;
        }
    </style>
</head>
<body>


    <div id="root"></div>
    <button id="btn_plus">+</button>

    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script>
        const root = document.querySelector('#root')
        const btn_plus = document.querySelector('#btn_plus')
 
        let i = 0;

        root.innerHTML = '<p> init : 1 </p>'
        
        // btn_plus.addEventListener('click', function(){
        //     root.innerHTML = `<p> init : ${i++} </p>`
        // })

        /* 이게 원래 하던 방식. 리액트는? */
 
            // const component = {
            //     message : 'init',
            //     count : 0,
            //     render() {
            //         return `<p> ${this.message} : ${this.count}  </p>`
            //     }
            // }
            // function render(rootElement, component){
            //     rootElement.innerHTML = component.render()
            // }

            // render(document.querySelector('#root'), component)

            // const btn_plus = document.querySelector('#btn_plus')

            //     btn_plus.addEventListener("ckick", function(){
            //         component.message = "update"
            //         component.count = component.count + 1
                
            //         render(document.querySelector('#root'), component)
            //     })


            // 생성할 요소 객체 Component, 값을 넘겨받는 props
            const component = (props) => {
                return React.createElement() /* 리액트에 사용되는 요소를 만들 수 있어짐 */
                'p', //태그명
                null, //props
                `${props.message} : ${props.count}` /* 태그 내부 텍스트 */
            }   /* p태그를 만들고 내부 텍스트에는 아직 값이 없음 */

            //DOM을 그려주는 render
            ReactDOM.render(React.createElement(component,{message : 'init', count:0 },null),
            document.querySelector('#root')) 
            //새로 DOM 을 그려주는 render createElement를 만들어서 root의 하위 요소로 넣어줌
            // createElement 요소에 앞에 선언한 component를 넣고, 객체데이터를 넣어줌 
            // p태그에 내부 텍스트를 넣어놓고, init는 props.message에, count는 props.count에 들어감


                btn_plus.addEventListener("ckick", function(){
                ReactDOM.render(
                React.createElement(component,{message : 'update', count:10},null),
                document.querySelector('#root')) 
                    
                 render(document.querySelector('#root'), component)
                }) //클릭했을때 render 라는 함수가 시작된다.
                // render로 그려주고, createElement 데이터를 다시 생성해주는 구나
</script>


</body>
</html>